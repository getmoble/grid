@using Grid.Infrastructure
@using Grid.Infrastructure.Extensions
@model  Grid.Features.PMS.ViewModels.TaskSearchViewModel


@*<tasklist></tasklist>
@Html.GridAddButton(EntityType.Task)*@



<h2>Manage Tasks</h2>
<tasks></tasks>

<script type="text/html" id="tasks-template">  
    <div class="col-md-12">
        <tasksearch></tasksearch>
    </div>
    <br />
    <div class="col-md-8">
        <taskslist params="entity: 'task', enableFilter:true, manageList:true"></taskslist>
    </div>
    <div class="col-md-4" data-bind="visible:showQuickView">
        <tasksformupdate params="entity: 'task'"></tasksformupdate>
    </div>
</script>

<script type="text/html" id="tasksearch-template">
    <div class="col-sm-2">
        <label>Title</label>
        <input type="text" class="form-control" placeholder="Enter Title" data-bind="value:title">
    </div>
    <div class="col-sm-2">
        <label>Project</label>
        <dropdown-list params="entity: 'activeproject',selectedValue: projectId, caption: 'Choose Project'"></dropdown-list>
    </div>
    <div class="col-sm-2">
        <label>Status</label>
        <dropdown-list params="entity: 'taskstatus',selectedValue: status, caption: 'Choose Status'"></dropdown-list>
    </div>
    <div class="col-sm-2">
        <label>Assignee</label>
        <dropdown-list params="entity: 'employee',selectedValue: employeeId, caption: 'Choose Assignee'"></dropdown-list>
    </div>
    <div class="col-sm-2">
        <button class="btn btn-primary" style="margin-top:23px;" data-bind="click:filter">Filter</button>
        <button class="btn btn-default" style="margin-top:23px;" data-bind="click:refresh">Reset</button>
    </div>
</script>

@section Scripts{
    <script>
        $(function () {
            ko.applyBindings();
        });
    </script>
}